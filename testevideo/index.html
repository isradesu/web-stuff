<!DOCTYPE html>
<html>
<head>
  <style>
    #animation {
      width: 1280px;
      height: 720px;
      position: relative;
      overflow: hidden;
    }

    #animation img {
      position: fixed;
      width: 100%;
      height: 100%;  
      top: 0;
      left: 0;
      opacity: 0;
    }
  </style>
  <script>
    var imagePaths = [
      'cloud_frames/frame1.png',
      'cloud_frames/frame2.png',
      'cloud_frames/frame3.png',
      'cloud_frames/frame4.png',
      'cloud_frames/frame5.png',
      'cloud_frames/frame6.png',
      'cloud_frames/frame7.png',
      'cloud_frames/frame8.png',
      'cloud_frames/frame9.png',
      'cloud_frames/frame10.png',
      'cloud_frames/frame12.png',
      'cloud_frames/frame13.png',
      'cloud_frames/frame14.png',
      'cloud_frames/frame15.png',
      'cloud_frames/frame16.png',
      'cloud_frames/frame17.png',
      'cloud_frames/frame18.png',
      'cloud_frames/frame19.png',
      'cloud_frames/frame20.png',
      'cloud_frames/frame21.png',
      'cloud_frames/frame22.png',
      'cloud_frames/frame23.png',
      'cloud_frames/frame24.png',
      // Adicione os caminhos das outras imagens aqui até o frame 24
    ];

    // Função para pré-carregar as imagens
    function preloadImages(callback) {
      var loadedImages = 0;
      var totalImages = imagePaths.length;

      function imageLoaded() {
        loadedImages++;
        if (loadedImages === totalImages) {
          callback();
        }
      }

      for (var i = 0; i < totalImages; i++) {
        var img = new Image();
        img.onload = imageLoaded;
        img.src = imagePaths[i];
      }
    }

    // Função para executar a animação
    function runAnimation() {
      var animation = document.getElementById('animation');
      var images = animation.getElementsByTagName('img');
      var totalFrames = images.length;
      var currentFrame = 0;

      function showFrame() {
        // Oculta todos os frames
        for (var i = 0; i < totalFrames; i++) {
          images[i].style.opacity = 0;
        }

        // Exibe o próximo frame
        images[currentFrame].style.opacity = 1;
        currentFrame++;

        if (currentFrame < totalFrames) {
          setTimeout(showFrame, 1000 / 24); // Framerate de 24fps
        } else {
          setTimeout(function() {
            // Define a opacidade de todos os frames como 0 após o fim da animação
            for (var i = 0; i < totalFrames; i++) {
              images[i].style.opacity = 0;
            }
          }, 1000); // Tempo para manter os frames visíveis após o fim da animação (1 segundo neste caso)
        }
      }

      showFrame();
    }

    // Carregar as imagens antes de executar a animação
    window.onload = function() {
    };

    document.addEventListener('scroll', () => {
    const scrollableHeight = document.documentElement.scrollHeight - window.innerHeight

    if (window.scrollY >= scrollableHeight/2 && window.scrollY <= scrollableHeight/1.9) {
      preloadImages(runAnimation);
    }
})
  </script>
</head>
<body>
  <div style="height: 140vh;">
    <!-- Espaço vazio para rolar a página -->
  </div>

  <div id="animation">
    <img src="cloud_frames/frame1.png" alt="Frame 1">
    <img src="cloud_frames/frame2.png" alt="Frame 2">
    <img src="cloud_frames/frame3.png" alt="Frame 3">
    <img src="cloud_frames/frame4.png" alt="Frame 4">
    <img src="cloud_frames/frame5.png" alt="Frame 5">
    <img src="cloud_frames/frame6.png" alt="Frame 6">
    <img src="cloud_frames/frame7.png" alt="Frame 7">
    <img src="cloud_frames/frame8.png" alt="Frame 8">
    <img src="cloud_frames/frame9.png" alt="Frame 9">
    <img src="cloud_frames/frame10.png" alt="Frame 10">
    <img src="cloud_frames/frame12.png" alt="Frame 12">
    <img src="cloud_frames/frame13.png" alt="Frame 13">
    <img src="cloud_frames/frame14.png" alt="Frame 14">
    <img src="cloud_frames/frame15.png" alt="Frame 15">
    <img src="cloud_frames/frame16.png" alt="Frame 16">
    <img src="cloud_frames/frame17.png" alt="Frame 17">
    <img src="cloud_frames/frame18.png" alt="Frame 18">
    <img src="cloud_frames/frame19.png" alt="Frame 19">
    <img src="cloud_frames/frame20.png" alt="Frame 20">
    <img src="cloud_frames/frame21.png" alt="Frame 21">
    <img src="cloud_frames/frame22.png" alt="Frame 22">
    <img src="cloud_frames/frame23.png" alt="Frame 23">
    <img src="cloud_frames/frame24.png" alt="Frame 24">
  </div>
  
  <div style="height: 2000px;">
    <!-- Espaço para rolar a página e fazer a div aparecer -->
  </div>
</body>
</html>
